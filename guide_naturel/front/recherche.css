.content-below-recherche {
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  width: 100%;
  max-width: 1300px;
  gap: 2rem;
  margin: 0 auto;
}

.chatbot-container {
  flex: 1 1 0; /* Ou 'flex: 1;' pour un partage équitable avec chatbot-results */
  /* S'il doit être plus grand, ex: flex: 2 1 0; (deux fois plus grand que chatbot-results si celui-ci est flex: 1 1 0;) */
  background-color: rgba(53, 161, 84,0.5);
  border-radius: 10px;
  padding: 20px; /* Gardez ce padding externe */
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  min-height: 370px;

  /* MODIFICATION IMPORTANTE: Comment gérer les enfants (log et input) */
  display: flex;
  flex-direction: column; /* Pour empiler le log et la zone d'input */
  justify-content: space-between; /* Pousse la zone d'input vers le bas */
  /* align-items: center; /* Peut-être pas nécessaire, ou align-items: stretch; */
}


/* Styles pour les éléments internes du chatbot-container */
.chat-log-area {
  flex-grow: 1; /* Permet au log de prendre l'espace vertical disponible DANS SON PARENT */
  overflow-y: auto; /* Affiche une barre de défilement verticale UNIQUEMENT SI NÉCESSAIRE */
  /* overflow-x: hidden; /* Optionnel: cache la barre de défilement horizontale si du texte dépasse en largeur */

  /* DÉFINISSEZ UNE HAUTEUR MAXIMALE ICI */
  max-height: 300px; /* Par exemple, 300 pixels. Ajustez cette valeur selon vos besoins. */
  /* Vous pouvez aussi utiliser des unités relatives comme 'vh' (viewport height), mais 'px' est souvent plus simple pour commencer. */
  /* Si vous aviez un 'height' fixe, remplacez-le par 'max-height' ou assurez-vous que 'height' est inférieur ou égal à 'max-height'. */

  /* Vos autres styles pour .chat-log-area restent : */
  padding: 10px;
  margin-bottom: 15px;
    /*background-color: #ffffff;*/
  /*border: 1px solid #ccc;*/
  border-radius: 5px;
  /* min-height: 200px; /* Vous pouvez garder un min-height si vous voulez qu'il ait une taille minimale même vide */
}

.chat-log-area p { /* Styles pour les messages individuels */
  margin: 8px 0;
  padding: 10px 15px;
  border-radius: 18px;
    font-size: 15px;
  border : 2px solid rgba(255,255,255,0.4);
  max-width: 85%;
  word-wrap: break-word;
  line-height: 1;

      /* Styles pour l'animation */
  opacity: 0; /* Initialement transparent */
  transform: translateY(15px); /* Initialement un peu décalé vers le bas (ou X si vous préférez) */
  /* Si vous voulez un effet de "scale" : transform: scale(0.95); */

  transition: opacity 0.4s ease-out, transform 0.4s ease-out;
  /* Vous pouvez ajuster la durée (0.4s) et la fonction de timing (ease-out) */
}

.chat-log-area p.visible { /* Classe à ajouter via JS */
  opacity: 1;
  transform: translateY(0);
  /* Si effet de scale : transform: scale(1); */
}

.bot-message {
  background-color: #3fd181;
  align-self: flex-start; /* Les messages du bot à gauche */
      color: #FFFFFF; /* Couleur de texte par défaut pour les messages */

}

.user-message {
  background-color: #7ae872;
  margin-left: auto; /* Les messages de l'utilisateur à droite */
  /* Si vous préférez les messages utilisateur à gauche aussi, retirez margin-left: auto; */
      color: #0a2e0c; /* Couleur de texte par défaut pour les messages */

}

.chat-input-area {
  display: flex;
  gap: 10px;
}

#chat-input {
  flex-grow: 1;
  padding: 12px;
  border: 1px solid #48bd50;
  border-radius: 20px;
  font-size: 1em;
  background-color: #fff; /* S'assurer que l'input est visible */
  color: #1e6033;
}
#chat-input::placeholder {
    color: #888;
}


#send-chat-button {
  padding: 6px 15px;
  background-color: #48bd50; /* Un vert un peu plus foncé que le conteneur */
  color: white;
  border: none;
  border-radius: 20px;
  cursor: pointer;
  font-size: 0.8em;
  transition: background-color 0.2s;
}
#send-chat-button:hover {
  background-color: #1e6033;
}
#send-chat-button:disabled {
  background-color: #aaa;
  cursor: not-allowed;
}


/* Styles pour .chatbot-results */
.chatbot-results {
  flex: 1 1 0; /* Ou 'flex: 1;' pour un partage équitable */
  background-color: rgba(53, 161, 84,0.5);
  border-radius: 10px;
  padding: 20px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  min-height: 370px;
  display: flex; /* Pour centrer le contenu s'il est simple */
  flex-direction: column; /* Au cas où vous mettez un titre + contenu */
  justify-content: flex-start; /* Alignement en haut par défaut */
  align-items: stretch; /* S'étire pour prendre la largeur */
  color: rgba(255,255,255,0.4); /* Couleur de texte par défaut pour le conteneur, sera surchargée si besoin */
}

#final-chatbot-results-content {
    background-color: rgba(255, 255, 255, 0.8); /* Fond légèrement transparent pour les résultats */
    color: #333; /* Texte foncé pour la lisibilité */
    padding: 15px;
    border-radius: 5px;
    height: 100%; /* Tente de remplir le parent .chatbot-results */
    overflow-y: auto; /* Si le contenu est long */
    white-space: pre-wrap; /* Respecte les sauts de ligne du backend */
    line-height: 1.6;
}
#final-chatbot-results-content:empty::before { /* Placeholder si vide */
    content: "Les résultats de votre recherche apparaîtront ici...";
    display: block;
    text-align: center;
    padding-top: 20px;
    color: #666;
    font-style: italic;
}


/* RESPONSIVE pour la page de recherche (votre existant) */
@media screen and (max-width: 850px) { /* Ajustez ce point de rupture */
    .content-below-recherche {
        flex-direction: column;
        align-items: center;
        gap: 1.5rem;
    }

    .chatbot-container,
    .chatbot-results { /* Appliquer aussi à chatbot-results */
        flex-basis: auto;
        width: 100%;
        max-width: 500px; /* Limite la largeur quand ils sont empilés */
    }
     .chatbot-container,
     .chatbot-results {
        min-height: 250px; /* Réduire la hauteur min sur mobile */
     }
     /* Peut-être réduire la taille de police pour le chat sur mobile */
     .chat-log-area p {
        padding: 8px 12px;
        font-size: 0.9em;
     }
     #chat-input, #send-chat-button {
        font-size: 0.9em;
        padding: 10px 15px;
     }
}

@media screen and (max-width: 769px) {
    .content-below-recherche {
        flex-direction: column;
        align-items: center;    /* Centre les blocs s'ils sont moins larges que le parent */
        gap: 1.5rem;
    }

     .chatbot-container, .chatbot-results {
        min-height: 250px;
        width: 90%;         /* Par exemple, 90% de la largeur du parent .content-below-recherche */
        /* Ou width: 100%; si vous n'avez pas de padding sur .content-below-recherche qui pourrait causer un dépassement */
        /* Ou width: 100%; et box-sizing: border-box; si vous avez du padding sur ces éléments et voulez que la largeur inclue le padding */
        max-width: 500px;   /* Optionnel : une largeur maximale pour éviter qu'ils soient trop larges sur des tablettes en mode portrait par ex. */
        /* Important: annuler le flex-basis hérité du desktop si besoin,
           mais avec width: XX%, le flex-basis est moins prioritaire pour la largeur en mode colonne.
           Par sécurité, on peut ajouter : */
        flex-basis: auto;
     }
}